package com.yedam.java.ch0605;

public class Singleton {
	// ì‹±ê¸€í†¤ (ì±… p279)
	// ì „ì²´ í”„ë¡œê·¸ë¨ì—ì„œ ë‹¨ í•˜ë‚˜ì˜ ê°ì²´ë§Œ ë§Œë“¤ë„ë¡ ë³´ì¥í•˜ëŠ” ì½”ë”© ê¸°ë²•
	// ì‹±ê¸€í†¤ì€ ìë°”ì—ì„œë§Œ ì“°ì´ëŠ” ê°œë…ì´ ì•„ë‹˜!
	// ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì—ì„œëŠ” ì‹±ê¸€í†¤ì´ ì•„ë‹ˆë¼ 'ë””ìì¸ íŒ¨í„´'ì´ë¼ê³  í•¨
	
	//ğŸ‹ ì‹±ê¸€í†¤ì˜ êµ¬ë¬¸
	//ğŸ‹ ì‹±ê¸€í†¤ ë§Œë“œëŠ” ë‘ ê°€ì§€ ë°©ë²•
	// 1. ì‹±ê¸€í†¤ì´ ì“°ë ¤ê³  ë¶ˆëŸ¬ì§€ë“  ë§ë“  ì¼ë‹¨ í”„ë¡œê·¸ë¨ ì‹œì‘í•˜ë©´ ì‹±ê¸€í†¤ì„ ë§Œë“¤ì–´ì„œ static ë©”ëª¨ë¦¬ì— ì˜¬ë¦¼
	
	// 1) ë‹¨ í•˜ë‚˜ë¿ì¸ ì‹±ê¸€í†¤ ê°ì²´ ë§Œë“¤ê¸°: ì•„ë¬´ë„ ì ‘ê·¼í•˜ì§€ ëª»í•˜ëŠ”, staticì¸ ì‹±ê¸€í†¤ íƒ€ì…ì˜ ê°ì²´(ì´ë¦„ì€ singleton)
	private static Singleton singleton = new Singleton(); 
	// Singletonë„ í´ë˜ìŠ¤ íƒ€ì…ì´ë¼ê³  ë§ í•  ìˆ˜ ìˆìŒ
	
	private Singleton() { // 2) private ì‚¬ìš©í•œ ìƒì„±ì: ë°–ì—ì„œ Singleton()ë¥¼ ì‚¬ìš©í•´ ê°ì²´ë¥¼ ëª» ë§Œë“¤ê²Œë” ë§‰ìŒ
		
	}
	
	// 3) ë‹¤ë¥¸ë°ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë‹¤ë¥¸ ë©”ì†Œë“œë¥¼ ë§Œë“¤ì–´, ê·¸ ì•ˆì— singletonì„ ë°˜í™˜í•´ ì”€
	public static Singleton getInstance() { // staticì„ ì‚¬ìš©í•˜ë©´ getInstance()ë¥¼ ì–´ë””ì„œë“  ì‚¬ìš© ê°€ëŠ¥
		return singleton; // ìœ„ì—ì„œ ë§Œë“  singleton ê°ì²´ë¥¼ ì´ ë©”ì†Œë“œë¥¼ í†µí•´ ì“°ê² ë‹¤.
	}
		// ì™¸ë¶€ì—ì„œ getInstance()ë¥¼ ë¶€ë¥´ë©´
		// ìš°ë¦¬ ëˆˆì—ëŠ” singleton ì´ê²Œ ë°˜í™˜ë˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ
		// ì‹¤ì œë¡œëŠ” new Singleton(); ì´ ë°˜í™˜ë˜ëŠ”ê±°ì„. ê°™ì€ ì£¼ì†Œë¥¼ ë°›ì•„ì˜´!

	// ì‹±ê¸€í†¤ ì‚¬ìš©ë°©ë²•
	// ë‹¨ í•˜ë‚˜ì˜ ê°ì²´ë¥¼ ë§Œë“  í›„, ìì£¼ ì“°ëŠ” í•„ë“œ, ë©”ì†Œë“œë¥¼
	// (ë‚´ê°€ ìì£¼ ì“°ëŠ” ê¸°ëŠ¥ì„) ì‹±ê¸€í†¤ì— ë„£ì–´ì„œ ì‚¬ìš©í•˜ë©´ ë¨
	public void run() {
		System.out.println("ì‹±ê¸€í†¤ì´ ì‘ë™ì¤‘ì…ë‹ˆë‹¤.");
	}
	public void connectDB() {
		System.out.println("ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.");
	}
		
	
	// 2. ë‚´ê°€ í•„ìš”í• ë•Œë§Œ ì‹±ê¸€í†¤ ë§Œë“¤ê¸° (ì´ê±´ ê±°ì˜ ì•ˆ ì”€~)
	// 1) nullì„ ì‚¬ìš©í•´ ì¼ë‹¨ ê°ì²´ë¥¼ ë§Œë“¤ì§€ ì•ŠìŒ -> ê·¸ëŸ¼ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°ˆ í•„ìš”ê°€ ì—†ìŒ. ì‹±ê¸€í†¤ì„ ë¶€ë¥´ê²Œ ë˜ë©´ ê·¸ë•Œ ê°ì²´ ë§Œë“¤ê²Œ~
//	private static Singleton singleton = null;
//	private Singleton() {
//		
//	}
//	
		// ë©”ì†Œë“œ
//	public static Singleton getInstance(){ // getInstance()ë¥¼ ë¶ˆë €ì„ ë•Œ
//		if (singleton == null){  // ì‹±ê¸€í†¤ì´ ì—†ë‹¤ë©´
//			return singleton = new Singleton(); // ì‹±ê¸€í†¤ì„ ë§Œë“¤ê³ 
//		} else { // ì´ë¯¸ ë§Œë“¤ì–´ì§„ ì‹±ê¸€í†¤ ê°ì²´ê°€ ìˆë‹¤ë©´
//			return singleton; // ê±”ë¥¼ ë¦¬í„´.
//		}
	
	
		
	// Application í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©í•´ë´„!
		
}
